versions:
  branch_re: default is versions/branch_to_version_re/from or [0-9]+.[0-9]+
  branch_to_version_re:
    from: None
    to: None
  version_to_branch_re:
    from: None
    to: None
publish:
  pypi:
    - major
    - minor
  docker:
    images:
      camptocamp/pkg:
        tags:
          - '{version}'
        master_as: latest
    repository:
      - dns: ghcr.io
        versions:
          - major
          - minor
          - master
      - versions:
         - major
         - minor
         - master
         - branche
check:
  black_config: True or attributes
  editorconfig: ...
  gitattribute: True
  eof: True
  workflows:
    images_blacklist:
      - ubuntu-latest
    timeout: True
  required_workflows:
    ci.yaml:
      run:
        - c2cci-check
        - c2cci-publish
      if: "!startsWith(github.event.head_commit.message, '[skip ci] ')"
    rebuild.yaml: # use rebuild/files
      run:
        - c2cci-publish
      noif: True
    clean.yaml:
      run:
        - c2cci-clean-docker-tags
    backport.yaml: True
    codeql.yaml: True
  versions:
    backport_tags: True
    rebuild:
      files:
        - rebuild.yaml
